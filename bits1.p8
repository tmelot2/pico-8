pico-8 cartridge // http://www.pico-8.com
version 41
__lua__

screenwidth = 127
screenheight = 127

function reverse(s)
	r=''
	for i=#s,1,-1 do
		r..=s[i]
	end
	return r
end

function bits(s)
	result=''
	for i=7,0,-1 do
		result ..= s >> i & 1
	end
	return result
end

function dtb(num)
  local bin=""
  for i=7,0,-1do
    bin..=num\2^i %2
  end
  return bin
end

cls(0)
p={8,9,10,11,12,13,14}
for i=0,15 do
	if bits(i)==dtb(i) then same=true else same=false end
	same=tostring(same)
	print(i..' '..bits(i)..' '..dtb(i)..' '..same, p[i%#p+1])
end

benchmarkCount=2^15-1
c=8
color(c)
-- print(' ')
print('benchmark ('..benchmarkCount..' count)')

-- Mine
ts=t()
for i=1,benchmarkCount do
	bits(i)
end
te=t()
diffMine=te-ts
c+=1
print('mine '..diffMine,c)

-- Theirs
ts=t()
for i=1,benchmarkCount do
	dtb(i)
end
te=t()
diffTheirs=te-ts
c+=1
print('theirs '..diffTheirs,c)

-- Ratio
c+=1
print('ratio '..flr(diffMine/diffTheirs*100)..'%',c)

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
