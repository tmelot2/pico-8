pico-8 cartridge // http://www.pico-8.com
version 41
__lua__

screenwidth = 127
screenheight = 127

-- main
function _init()
	scale=2
end

function _update60()	
	input()
end

function _draw()
	cls(1)

	x=5
	y=40

	rectfill(5,5,60,25,2)
	comictext('comic text', 8, 12)
	scale_text('scaled', 8, 30, 8, scale)
end

function comictext(s,x,y)
	w=4
	rectfill(x+2,y-2, x+(#s*w)+4,y+6, 1)
	for i=1,#s do
		--u
		print(s[i], x+i*w, y-1, 15)
		--d
		print(s[i], x+i*w, y+1, 15)
		--l
		print(s[i], x+i*w-1, y, 15)
		--r
		print(s[i], x+i*w+1, y, 15)

		--ul
		print(s[i], x+i*w-1, y-1, 15)
		--ur
		print(s[i], x+i*w+1, y-1, 15)
		--dl
		print(s[i], x+i*w-1, y+1, 15)
		--dr
		print(s[i], x+i*w+1, y+1, 15)
		
		--c
		print(s[i], x+i*w, y, 0)
	end
end



-- https://www.lexaloffle.com/bbs/?pid=114184#p
function scale_text(str,x,y,c,scale)
    memcpy(0x4300,0x0,0x0200)
    memset(0x0,0,0x0200)
    poke(0x5f55,0x00)
    print(str,0,0,7)
    poke(0x5f55,0x60)

    local w,h = #str*4,5
    pal(7,c)
    palt(0,true)
    sspr(0,0,w,h,x,y,w*scale,h*scale)
    pal()

    memcpy(0x0,0x4300,0x0200)
end


-- input
function input()
	if (btn(0)) scale-=0.5
	if (btn(1)) scale+=0.5
	if (btn(2)) scale-=0.02
	if (btn(3)) scale+=0.02
end



__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
